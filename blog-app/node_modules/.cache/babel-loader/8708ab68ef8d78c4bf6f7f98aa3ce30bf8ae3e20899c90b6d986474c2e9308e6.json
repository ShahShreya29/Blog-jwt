{"ast":null,"code":"// import React, { useState } from \"react\";\nimport\"./LoginForm.module.css\";import TextField from\"./TextField\";import AddBtn from\"./AddBtn\";import{Link,useNavigate}from\"react-router-dom\";import{Formik,Form}from\"formik\";import*as yup from\"yup\";import{useDispatch}from\"react-redux\";import{logIn}from\"../AuthReducer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LoginForm=()=>{const validate=yup.object({email:yup.string().email(\"invalid email\").required(\"email is required\"),password:yup.string().required(\"Password is Required\").min(6,\"At Least 6 Character\")});const navigate=useNavigate();const dispatch=useDispatch();// const [values,setValues] = useSta\nconst handleLogin=e=>{var user=JSON.parse(localStorage.getItem(\"users\"));user=user.find(function(user){if(e.email===user.email&&btoa(e.password)===user.password){alert(\"login SuccessFully\");if(user.role===\"user\"){navigate(\"/Blogs\");}else{navigate(\"/BlogList\");}sessionStorage.setItem(\"user\",JSON.stringify({userEmail:e.email}));dispatch(logIn({userEmail:e.email}));}else{alert(\"invalid username or password\");}});};// const handleLogin = (e) => {\n//   // e.preventDefault();\n//   const formData = {\n//     email: e.email,\n//     password: e.password,\n//   };\n//   const errors = validate.validate(formData);\n//   if (errors.length > 0) {\n//     alert(errors.join(\"\\n\"));\n//   } else {\n//     var users = JSON.parse(localStorage.getItem(\"users\")) || [];\n//     sessionStorage.setItem(\"ce\", e.email);\n//     //  Find the user with the matching email\n//     var user = users.find(function (user) {\n//       return user.email === e.email;\n//     });\n//     if (user) {\n//       // Check if passwords match\n//       if (user.password === btoa(e.password)) {\n//         alert(\"Login successful for \" + user.name + \"!\");\n//         sessionStorage.setItem('name',user.name)\n//         if (user.role === \"user\") {\n//           navigate(\"/Blogs\");\n//         } else {\n//           navigate(\"/BlogList\");\n//         }\n//       }else{\n//         alert('invalid login')\n//       }\n//     }else{\n//       alert('Please Signup first')\n//     }\n//   }\n// };\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\",password:\"\"},validationSchema:validate,onSubmit:handleLogin,children:Formik=>/*#__PURE__*/_jsx(\"div\",{className:\"container m-5\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-4 col-md-offset-5 align-center \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"m-5 text-center\",children:\"Login \"}),/*#__PURE__*/_jsx(TextField,{label:\"Email: \",type:\"email\",name:\"email\"}),/*#__PURE__*/_jsx(TextField,{label:\"Password: \",type:\"password\",name:\"password\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(AddBtn,{style:{marginLeft:\"130px\",marginTop:\"10px\",backgroundColor:\"#1070ef\",color:\"white\",width:\"99px\"},children:[\" \",\"LogIn\"]})}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-center m-3\",children:[\"PLEASE \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"SIGNUP!!\"}),\" FIRST\"]})]})})})})})});};export default LoginForm;","map":{"version":3,"names":["TextField","AddBtn","Link","useNavigate","Formik","Form","yup","useDispatch","logIn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","validate","object","email","string","required","password","min","navigate","dispatch","handleLogin","e","user","JSON","parse","localStorage","getItem","find","btoa","alert","role","sessionStorage","setItem","stringify","userEmail","children","initialValues","validationSchema","onSubmit","className","label","type","name","style","marginLeft","marginTop","backgroundColor","color","width","to"],"sources":["/home/shreya/Documents/react/blog-app/src/Components/LoginForm.js"],"sourcesContent":["// import React, { useState } from \"react\";\nimport \"./LoginForm.module.css\";\nimport TextField from \"./TextField\";\nimport AddBtn from \"./AddBtn\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Formik, Form } from \"formik\";\nimport * as yup from \"yup\";\nimport { useDispatch } from \"react-redux\";\nimport { logIn } from \"../AuthReducer\";\n\nconst LoginForm = () => {\n  const validate = yup.object({\n    email: yup.string().email(\"invalid email\").required(\"email is required\"),\n    password: yup\n      .string()\n      .required(\"Password is Required\")\n      .min(6, \"At Least 6 Character\"),\n  });\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  // const [values,setValues] = useSta\n\n  const handleLogin = (e) => {\n    var user = JSON.parse(localStorage.getItem(\"users\"));\n\n    user = user.find(function (user) {\n      if (e.email === user.email && btoa(e.password) === user.password) {\n        alert(\"login SuccessFully\");\n        if (user.role === \"user\") {\n          navigate(\"/Blogs\");\n        } else {\n          navigate(\"/BlogList\");\n        }\n        sessionStorage.setItem(\"user\", JSON.stringify({ userEmail: e.email }));\n        dispatch(logIn({ userEmail: e.email }));\n      } \n      else {\n        alert(\"invalid username or password\");\n      }\n    });\n  };\n\n  // const handleLogin = (e) => {\n  //   // e.preventDefault();\n\n  //   const formData = {\n  //     email: e.email,\n  //     password: e.password,\n  //   };\n\n  //   const errors = validate.validate(formData);\n\n  //   if (errors.length > 0) {\n  //     alert(errors.join(\"\\n\"));\n  //   } else {\n  //     var users = JSON.parse(localStorage.getItem(\"users\")) || [];\n  //     sessionStorage.setItem(\"ce\", e.email);\n\n  //     //  Find the user with the matching email\n  //     var user = users.find(function (user) {\n  //       return user.email === e.email;\n  //     });\n\n  //     if (user) {\n  //       // Check if passwords match\n  //       if (user.password === btoa(e.password)) {\n  //         alert(\"Login successful for \" + user.name + \"!\");\n  //         sessionStorage.setItem('name',user.name)\n  //         if (user.role === \"user\") {\n  //           navigate(\"/Blogs\");\n  //         } else {\n  //           navigate(\"/BlogList\");\n  //         }\n  //       }else{\n  //         alert('invalid login')\n  //       }\n  //     }else{\n  //       alert('Please Signup first')\n  //     }\n  //   }\n\n  // };\n\n  return (\n    <>\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        validationSchema={validate}\n        onSubmit={handleLogin}\n      >\n        {(Formik) => (\n          <div className=\"container m-5\">\n            <Form>\n              <div className=\"row justify-content-center\">\n                <div className=\"form-group col-md-4 col-md-offset-5 align-center \">\n                  <h1 className=\"m-5 text-center\">Login </h1>\n                  <TextField label=\"Email: \" type=\"email\" name=\"email\" />\n                  <TextField\n                    label=\"Password: \"\n                    type=\"password\"\n                    name=\"password\"\n                  />\n                  <div>\n                    <AddBtn\n                      style={{\n                        marginLeft: \"130px\",\n                        marginTop: \"10px\",\n                        backgroundColor: \"#1070ef\",\n                        color: \"white\",\n                        width: \"99px\",\n                      }}\n                    >\n                      {\" \"}\n                      LogIn\n                    </AddBtn>\n                  </div>\n                  <h6 className=\"text-center m-3\">\n                    PLEASE <Link to=\"/\">SIGNUP!!</Link> FIRST\n                  </h6>\n                </div>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n    </>\n  );\n};\n\nexport default LoginForm;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}