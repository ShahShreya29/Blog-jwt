{"ast":null,"code":"import React,{useState}from\"react\";import TextField from\"./TextField\";import AddBtn from\"./AddBtn\";import{Link,useNavigate}from\"react-router-dom\";import SelectField from\"./SelectField\";import{Formik,Form}from\"formik\";import*as yup from\"yup\";import{useDispatch}from\"react-redux\";import{signUP}from\"../AuthReducer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SignupForm=()=>{const validates=yup.object().shape({name:yup.string().required(\"Name Is Required\").max(10,\"Must be 10 or less letters \"),email:yup.string().email(\"invalid email\").required(\"email is required\"),password:yup.string().required(\"Password is Required\").min(6,\"At Least 6 Character\")});const dispatch=useDispatch();const navigate=useNavigate();const[values,setValues]=useState();const options=[{value:\"user\",label:\"User\"},{value:\"admin\",label:\"Admin\"}];const handleSignup=e=>{var users=JSON.parse(localStorage.getItem(\"users\"))||[];console.log(users);const existingUser=users.find(user=>user.email===e.email);if(existingUser){alert(\"User Already Exists\");}else{alert(\"Sigh UP SuccessFully \");navigate(\"/LoginForm\");users.push({name:e.name,email:e.email,password:btoa(e.password),role:values.options});localStorage.setItem(\"users\",JSON.stringify(users));dispatch(signUP(values));}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{name:\"\",email:\"\",password:\"\"},validationSchema:validates,onSubmit:handleSignup,children:Formik=>/*#__PURE__*/_jsx(\"div\",{className:\"container m-5\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-4 col-md-offset-5 align-center \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"m-5 text-center\",children:\"SignUp \"}),/*#__PURE__*/_jsx(TextField,{label:\"Name: \",type:\"text\",name:\"name\",id:\"name\"}),/*#__PURE__*/_jsx(TextField,{label:\"Email: \",type:\"email\",name:\"email\",id:\"email\"}),/*#__PURE__*/_jsx(TextField,{label:\"Password: \",type:\"password\",name:\"password\",id:\"password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(SelectField,{name:\"role\",label:options.label,options:options,value:options.value,onChange:e=>setValues({...values,options:e.target.value})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(AddBtn,{style:{marginLeft:\"130px\",marginTop:\"10px\",backgroundColor:\"#1070ef\",color:\"white\",width:\"99px\"},children:[\" \",\"SignUP\"]})}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-center m-3\",children:[\"Already Have Account \",/*#__PURE__*/_jsx(Link,{to:\"/LoginForm\",children:\"LogIn!!\"})]})]})})})})})});};export default SignupForm;","map":{"version":3,"names":["React","useState","TextField","AddBtn","Link","useNavigate","SelectField","Formik","Form","yup","useDispatch","signUP","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SignupForm","validates","object","shape","name","string","required","max","email","password","min","dispatch","navigate","values","setValues","options","value","label","handleSignup","e","users","JSON","parse","localStorage","getItem","console","log","existingUser","find","user","alert","push","btoa","role","setItem","stringify","children","initialValues","validationSchema","onSubmit","className","type","id","onChange","target","style","marginLeft","marginTop","backgroundColor","color","width","to"],"sources":["/home/shreya/Documents/react/blog-app/src/Components/SignupForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport TextField from \"./TextField\";\nimport AddBtn from \"./AddBtn\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport SelectField from \"./SelectField\";\nimport { Formik, Form } from \"formik\";\nimport * as yup from \"yup\";\nimport { useDispatch } from \"react-redux\";\nimport { signUP } from \"../AuthReducer\";\n\nconst SignupForm = () => {\n  const validates = yup.object().shape({\n    name: yup\n      .string()\n      .required(\"Name Is Required\")\n      .max(10, \"Must be 10 or less letters \"),\n    email: yup.string().email(\"invalid email\").required(\"email is required\"),\n    password: yup\n      .string()\n      .required(\"Password is Required\")\n      .min(6, \"At Least 6 Character\"),\n  });\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [values, setValues] = useState();\n\n  const options = [\n    { value: \"user\", label: \"User\" },\n    { value: \"admin\", label: \"Admin\" },\n  ];\n\n  const handleSignup = (e) => {\n    var users = JSON.parse(localStorage.getItem(\"users\")) || [];\n    console.log(users);\n    const existingUser = users.find((user) => user.email === e.email);\n    if (existingUser) {\n      alert(\"User Already Exists\");\n    } else {\n      alert(\"Sigh UP SuccessFully \");\n      navigate(\"/LoginForm\");\n      users.push({\n        name: e.name,\n        email: e.email,\n        password: btoa(e.password),\n        role: values.options,\n      });\n      localStorage.setItem(\"users\", JSON.stringify(users));\n\n      dispatch(signUP(values));\n    }\n  };\n\n  return (\n    <>\n      <Formik\n        initialValues={{\n          name: \"\",\n          email: \"\",\n          password: \"\",\n        }}\n        validationSchema={validates}\n        onSubmit={handleSignup}\n      >\n        {(Formik) => (\n          <div className=\"container m-5\">\n            <Form>\n              <div className=\"row justify-content-center\">\n                <div className=\"form-group col-md-4 col-md-offset-5 align-center \">\n                  <h1 className=\"m-5 text-center\">SignUp </h1>\n                  <TextField label=\"Name: \" type=\"text\" name=\"name\" id=\"name\" />\n                  <TextField\n                    label=\"Email: \"\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                  />\n                  <TextField\n                    label=\"Password: \"\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                  />\n\n                  <div className=\"mb-3\">\n                    <SelectField\n                      name=\"role\"\n                      label={options.label}\n                      options={options}\n                      value={options.value}\n                      onChange={(e) =>\n                        setValues({ ...values, options: e.target.value })\n                      }\n                    />\n                  </div>\n                  <div>\n                    <AddBtn\n                      style={{\n                        marginLeft: \"130px\",\n                        marginTop: \"10px\",\n                        backgroundColor: \"#1070ef\",\n                        color: \"white\",\n                        width: \"99px\",\n                      }}\n                    >\n                      {\" \"}\n                      SignUP\n                    </AddBtn>\n                  </div>\n                  <h6 className=\"text-center m-3\">\n                    Already Have Account <Link to=\"/LoginForm\">LogIn!!</Link>\n                  </h6>\n                </div>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n    </>\n  );\n};\n\nexport default SignupForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}